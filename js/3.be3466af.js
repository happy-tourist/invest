(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"57dc":function(t,e,n){},"8b24":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("q-page",[n("div",{staticClass:"container"},[t._v("\n    "+t._s(t.status)+"\n    "),n("form",{on:{submit:function(e){return e.preventDefault(),t.onFilterPrice.apply(null,arguments)}}},[t._v("\n      Цена до\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.maxPrice,expression:"maxPrice"}],attrs:{type:"text"},domProps:{value:t.maxPrice},on:{input:function(e){e.target.composing||(t.maxPrice=e.target.value)}}}),n("button",[t._v("Ok")])]),n("hr"),t.storeData?[t._l(t.filteredStocks,(function(e,r){return n("div",{key:r},[n("div",{staticClass:"stock"},[t._v("\n          |\n          "+t._s(e.percents)+"%\n          |\n          "),n("div",{staticClass:"stock-graph"},t._l(t.getPrices(e),(function(e,r){return n("div",{key:r,staticClass:"stock-point",style:{bottom:e.percent+"%"}},[n("span",{staticClass:"stock-point__price"},[t._v("\n                "+t._s(e.price)+"\n              ")])])})),0),t._v("\n          |\n          "),n("span",{staticClass:"stock-name"},[t._v("\n            "+t._s(e.name)+"\n          ")]),t._v("\n          |\n          "+t._s(e.ticker)+"\n          |\n          "+t._s(e.branch)+"\n          |\n          "+t._s(t.getPrice(e))+"\n        ")]),n("hr")])})),t._v("\n      "+t._s(t.storeData.stocksWithoutBranch.length)+"\n      "),t._l(t.storeData.stocksWithoutBranch,(function(e,r){return n("div",{key:r},[n("div",{staticClass:"stock"},[t._v("\n          "+t._s(e.ticker)+"\n          |\n          "),n("select",{domProps:{value:e.branch},on:{change:function(n){return t.changeBranch(n.target.value,e.ticker)}}},t._l(t.branches,(function(e,r){return n("option",{key:"br"+r,domProps:{value:e}},[t._v("\n              "+t._s(e)+"\n            ")])})),0)]),n("hr")])}))]:t._e()],2)])},s=[],c=n("2f62"),i={name:"PageIndex",data:()=>({maxPrice:"0",isFilterMaxPrice:!1,branches:["","no","other","eco","electro","electrotransport","energy","energybuild","finance","goods","green","health","industry","it","property","telecom","transport"]}),computed:{...Object(c["b"])("status",["status","storeData"]),filteredStocks(){return this.isFilterMaxPrice?this.storeData.stocks.filter((t=>this.getPrice(t)<+this.maxPrice)):this.storeData.stocks}},methods:{onFilterPrice(){this.maxPrice&&(this.isFilterMaxPrice=!0)},changeBranch(t,e){this.$socket.emit("setBranch",{ticker:e,branch:t})},getPrices(t){return t.prices.filter((e=>e.day>=t.startDay)).map((e=>{const n=+t.max-+t.min,r=+e.price-+t.min,s=n&&(100*r/n).toFixed();return{...e,percent:s}}))},getPrice(t){if(!t.prices[t.prices.length-1])return 0;let e=+t.prices[t.prices.length-1].priceLots;return"USD"===t.currency&&(e*=this.storeData.dollarRate),"EUR"===t.currency&&(e*=this.storeData.euroRate),e.toFixed()}}},a=i,o=(n("c375"),n("2877")),l=n("9989"),u=n("eebe"),p=n.n(u),h=Object(o["a"])(a,r,s,!1,null,"4ffbceeb",null);e["default"]=h.exports;p()(h,"components",{QPage:l["a"]})},c375:function(t,e,n){"use strict";n("57dc")}}]);